<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>CPC354 Assgn1</title>

    <script id="vertex-shader" type="x-shader/x-vertex">
        #version 300 es
        // aPosition for position of subTriangle
        // aColor for color in triangle
        in vec4 aPosition;
        in vec3 aColor;
        out vec4 vColor;

        // ratio for ratio of rectangle to match the size of triangle
        // without apply this ratio, triangle will out of shape
        // uTheta for degree of rotating
        // uScale for scaling the triangle
        // uTrans for transition of triangle
        uniform float ratio;
        uniform float uTheta;
        uniform vec2 uScale;
        uniform vec2 uTrans;

        void main(){
            float s = sin(uTheta);
            float c = cos(uTheta);
            vec4 scaledPosition = (aPosition * vec4(uScale,0,1)) + vec4(uTrans,0,1);
            
            gl_Position.x = -s*scaledPosition.y + c*scaledPosition.x ;
            gl_Position.x = gl_Position.x / ratio;
            gl_Position.y =  s*scaledPosition.x + c*scaledPosition.y ;
            gl_Position.z = 0.0;
            gl_Position.w = 1.0;
    
            vColor = vec4(aColor, 1.0);

        }

    </script>
    
    <script id="fragment-shader" type="x-shader/x-fragment">
        #version 300 es

        precision mediump float;
        in vec4 vColor;
        out vec4 fColor;

        void main(){
            fColor = vColor;

        }
    </script>

    <script type="text/javascript" src="Common/initShaders.js"></script>
    <script type="text/javascript" src="Common/MVnew.js"></script>
    <script type="text/javascript" src="354assgn1.js"></script>
    
</head>
<body>

    <div id="wrapper">
        <div id="dialog">
            <div class="btn-outer">
                <div class="btn-inner">
                    <button class="start" onclick=startAnimation()>Start</button>
                </div>

                <div class="btn-inner">
                    <button class="reset" onclick=resetAnimation()>Reset</button>
                </div>
                
            </div>
            <div class= "slidercontainer">
                <span  class="slide_rec">Recursive steps :</span>  
                <input class="slide" id="sliderRec" type="range"min="0" max="5" step="1" value="0" />
                
            </div>
            <div class="slidercontainer">
                <span  class="slide_rot">Rotation speed:</span>  
                <input class="slide"id="sliderRot" type="range"min="0" max="5" step="1" value="0" />
            </div>
            <div class="slidercontainer">
                <span  class="slide_trans">Transition speed:</span>  
                <input class="slide"id="sliderTrans" type="range"min="0" max="5" step="1" value="0" />
            </div>
            <div class="dropdown">
                <label for="colorChoice">Current colors: </label>
                <select name="colorChoice" class="colors">
                    <option value="redbluegreen" class="redbluegreen">red/green/blue</option>
                    <option value="whiteblackorange" class="whiteblackorange">white/black/orange</option>
                    <option value="blackgreengrey" class="blackgreengrey">black/green/grey</option>
                </select>
            </div>
            <div class="colorChange">
                <button class="colorChangeBtn changeColorOn">Change color when hit corner: On</button>
            </div>
        </div>
        
        <canvas id="gl-canvas" width=980px height=600px>
        Oops ... your browser doesn't support the HTML5 canvas element

    </div>
    
</canvas>
</body>
</html>